# ✅ Чеклист деплоя в Sepolia

## Перед деплоем

### Подготовка окружения
- [ ] Node.js установлен (v16+)
- [ ] npm установлен
- [ ] Git установлен
- [ ] Редактор кода установлен (VS Code, etc.)

### Получение ресурсов
- [ ] MetaMask установлен и настроен
- [ ] Получены тестовые ETH из faucet (≥0.1 ETH)
  - Адрес: _________________
  - Баланс: _______ ETH
- [ ] Зарегистрирован аккаунт на Alchemy
  - Email: _________________
- [ ] Получен Alchemy API ключ
  - App name: _________________
- [ ] Зарегистрирован аккаунт на Etherscan (опционально)
- [ ] Получен Etherscan API ключ (опционально)

### Настройка проекта
- [ ] Склонирован репозиторий
- [ ] `cd ethereum` выполнен
- [ ] `npm install` выполнен успешно
- [ ] `.env` файл создан из `.env.example`
- [ ] `PRIVATE_KEY` установлен в `.env`
- [ ] `SEPOLIA_RPC_URL` установлен в `.env`
- [ ] `ETHERSCAN_API_KEY` установлен в `.env` (опционально)

### Проверка готовности
- [ ] `npm run compile` - успешно
- [ ] `npm test` - все 81 тест проходит
- [ ] `npm run check-balance` - баланс достаточный
- [ ] `.env` файл НЕ закоммичен в git

## Во время деплоя

### Деплой контрактов
- [ ] Запущена команда: `npm run deploy:sepolia`
- [ ] TokenManager задеплоен
  - Адрес: _________________
  - TX hash: _________________
- [ ] OrderBook задеплоен
  - Адрес: _________________
  - TX hash: _________________
- [ ] Trade задеплоен
  - Адрес: _________________
  - TX hash: _________________
- [ ] Trade установлен в OrderBook
  - TX hash: _________________
- [ ] Test Token A задеплоен
  - Адрес: _________________
- [ ] Test Token B задеплоен
  - Адрес: _________________

### Проверка деплоя
- [ ] `deployment-info.json` создан
- [ ] `npm run verify-deployment` - все ✅
- [ ] Все контракты видны на Etherscan
- [ ] Проверена связь: OrderBook ↔ TokenManager
- [ ] Проверена связь: OrderBook ↔ Trade
- [ ] Проверена связь: Trade ↔ OrderBook

## После деплоя

### Верификация контрактов
- [ ] Сгенерированы команды верификации
  - `node scripts/generate-verification-commands.js`
- [ ] TokenManager верифицирован
  - Etherscan URL: _________________
- [ ] OrderBook верифицирован
  - Etherscan URL: _________________
- [ ] Trade верифицирован
  - Etherscan URL: _________________
- [ ] Test Token A верифицирован (опционально)
  - Etherscan URL: _________________
- [ ] Test Token B верифицирован (опционально)
  - Etherscan URL: _________________

### Документация
- [ ] `deployment-info.json` сохранен в безопасное место
- [ ] Адреса контрактов записаны в документацию
- [ ] Скриншоты Etherscan сделаны
- [ ] README обновлен с адресами контрактов

### Тестирование
- [ ] Минт Test Token A успешен
- [ ] Минт Test Token B успешен
- [ ] Approve токенов для OrderBook работает
- [ ] Создание ордера работает
- [ ] Отмена ордера работает
- [ ] Исполнение ордера работает (через Trade)

### Безопасность
- [ ] `.env` файл НЕ закоммичен
- [ ] Приватный ключ НЕ раскрыт
- [ ] `deployment-info.json` НЕ закоммичен (или добавлен в .gitignore)
- [ ] Баланс deployer кошелька проверен
- [ ] Подозрительных транзакций нет

## Финальная проверка

### Функциональность
- [ ] Все функции читаются без ошибок (view/pure)
- [ ] Все функции записи работают корректно
- [ ] Events эмитятся правильно
- [ ] Gas costs в приемлемых пределах

### Интеграция
- [ ] Фронтенд может подключиться к контрактам
- [ ] ABI файлы экспортированы
- [ ] Адреса контрактов доступны для фронтенда

## Чеклист проблем

Если что-то пошло не так:

### Деплой не удался
- [ ] Проверен баланс ETH
- [ ] Проверен PRIVATE_KEY в .env
- [ ] Проверен SEPOLIA_RPC_URL
- [ ] Проверена сеть (должна быть Sepolia)
- [ ] Перезапущен деплой

### Верификация не удалась
- [ ] Подождали 1-2 минуты после деплоя
- [ ] Проверили ETHERSCAN_API_KEY
- [ ] Проверили constructor аргументы
- [ ] Проверили версию Solidity (0.8.20)

### Транзакции не проходят
- [ ] Проверен gas limit
- [ ] Проверен gas price
- [ ] Проверен nonce (очищена история в MetaMask)
- [ ] Проверен баланс для gas fees

## Итоговый статус

- Дата деплоя: _________________
- Время деплоя: _________________
- Затрачено ETH: _________________
- Статус: ⬜ Успешно / ⬜ Частично / ⬜ Провал

### Заметки:
_________________________________________________________________
_________________________________________________________________
_________________________________________________________________

## Следующие шаги

После прохождения всех пунктов:
1. [ ] Создать бэкап deployment-info.json
2. [ ] Обновить документацию проекта
3. [ ] Уведомить команду о деплое
4. [ ] Запланировать тестирование
5. [ ] Начать работу над фронтендом

---

**Подпись:** _________________
**Дата:** _________________
